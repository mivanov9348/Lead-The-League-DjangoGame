{% extends 'base.html' %}

{% block title %}My Team - Squad{% endblock %}

{% block extra_css %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/squad.css' %}">
{% endblock %}

{% block content %}

<div class="team-info">
    <h1>{{ team.name }}</h1> <!-- Увери се, че team има поле за име -->
</div>


<div class="table-container">

    <!-- Player Info -->
    <div class="table-section player-info">
        <div class="section-title">Player Info</div>
        <table class="table">
            <thead>
            <tr>
                <th>Sh</th>
                <th>N</th>
                <th>P</th>
                <th>N</th>
            </tr>
            </thead>
            <tbody>
            {% for player in players_data %}
            <tr>
                <td>{{ player.team_info.shirt_number|default:"-" }}</td>
                <td>{{ player.personal_info.name|default:"-" }}</td>
                <td>{{ player.personal_info.position|default:"-" }}</td>
                <td>{{ player.personal_info.nationality|default:"-" }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" class="text-center">No players available</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Player Stats -->
    <div class="table-section player-stats">
        <div class="section-title">Season Stats</div>
        <table>
            <thead>
            <tr>
                <th title="Matches">M</th>
                <th title="Goals">G</th>
                <th title="Assists">A</th>
                <th title="Shots">S</th>
                <th title="Shoots on Target">SoT</th>
                <th title="Passes">P</th>
                <th title="Dribbles">D</th>
                <th title="Tackles">T</th>
                <th title="Fouls">F</th>
                <th title="Yellow Cards">YC</th>
                <th title="Red Cards">RC</th>
                <th title="Saves">S</th>
                <th title="Clean Sheets">CS</th>
                <th title="Conceded">C</th>
            </tr>
            </thead>
            <tbody>
            {% for player in players_data %}
            <tr>
                <td>{{ player.stats.matches }}</td>
                <td>{{ player.stats.goals }}</td>
                <td>{{ player.stats.assists }}</td>
                <td>{{ player.stats.shoots }}</td>
                <td>{{ player.stats.shootsOnTarget }}</td>
                <td>{{ player.stats.passes }}</td>
                <td>{{ player.stats.dribbles }}</td>
                <td>{{ player.stats.tackles }}</td>
                <td>{{ player.stats.fouls }}</td>
                <td>{{ player.stats.yellowCards }}</td>
                <td>{{ player.stats.redCards }}</td>
                <td>{{ player.stats.saves }}</td>
                <td>{{ player.stats.cleanSheets }}</td>
                <td>{{ player.stats.conceded }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="7" class="text-center">No players available</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Player Attributes -->
    <div class="table-section player-attributes">
        <div class="section-title">Player Attributes</div>
        <table>
            <thead>
            <tr>
                <th title="Handling">H</th>
                <th title="Reflexes">R</th>
                <th title="Finishing">F</th>
                <th title="Shooting">S</th>
                <th title="Technique">T</th>
                <th title="Passing">P</th>
                <th title="Crossing">C</th>
                <th title="Tackling">Tk</th>
                <th title="Strength">Str</th>
                <th title="Determination">D</th>
                <th title="Ball Control">BC</th>
                <th title="Dribbling">Dr</th>
                <th title="Speed">Sp</th>
                <th title="Vision">V</th>
                <th title="Work Rate">WR</th>
            </tr>
            </thead>
            <tbody>
            {% for player in players_data %}
            <tr>
                <td>{{ player.attributes.Handling|default:"-" }}</td>
                <td>{{ player.attributes.Reflexes|default:"-" }}</td>
                <td>{{ player.attributes.Finishing|default:"-" }}</td>
                <td>{{ player.attributes.Shooting|default:"-" }}</td>
                <td>{{ player.attributes.Technique|default:"-" }}</td>
                <td>{{ player.attributes.Passing|default:"-" }}</td>
                <td>{{ player.attributes.Crossing|default:"-" }}</td>
                <td>{{ player.attributes.Tackling|default:"-" }}</td>
                <td>{{ player.attributes.Strength|default:"-" }}</td>
                <td>{{ player.attributes.Determination|default:"-" }}</td>
                <td>{{ player.attributes.BallControl|default:"-" }}</td>
                <td>{{ player.attributes.Dribbling|default:"-" }}</td>
                <td>{{ player.attributes.Speed|default:"-" }}</td>
                <td>{{ player.attributes.Vision|default:"-" }}</td>
                <td>{{ player.attributes.WorkRate|default:"-" }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="7" class="text-center">No attributes available</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}