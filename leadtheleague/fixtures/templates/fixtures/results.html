{% extends 'base.html' %}

{% block title %}Results{% endblock %}

{% block extra_css %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/results.css' %}">
{% endblock %}

{% block content %}
<div class="livescore-container">

    {% for league in leagues %}
    <div class="league">
        <div class="league-header">
            <span class="league-name">{{ league }}</span>
        </div>

        {% for round, fixtures in fixtures.items %}
        <div class="round">
            <div class="round-header">
                <h3>Round {{ round }}</h3>
            </div>
            {% for fixture in fixtures %}
            {% if fixture.league_name == league %}
            <div class="match">
                <!-- Home team with logo -->
                <div class="home-team">
                    {% if fixture.home_team.logo %}
                    <img class="team-logo" src="{{ fixture.home_team.logo }}" alt="{{ fixture.home_team.name }} Logo">
                    {% endif %}
                    {{ fixture.home_team.name }}
                </div>

                <!-- Match score -->
                <div class="score">
                    <a class="score-link" href="#">
                        0 - 0
                    </a>
                </div>

                <!-- Away team with logo -->
                <div class="away-team">
                    {% if fixture.away_team.logo %}
                    <img class="team-logo" src="{{ fixture.away_team.logo }}" alt="{{ fixture.away_team.name }} Logo">
                    {% endif %}
                    {{ fixture.away_team.name }}
                </div>

                <!-- Match time -->
                <div class="time">{{ fixture.time }}</div>
            </div>
            {% endif %}
            {% endfor %}
        </div>
        {% endfor %}
    </div>
    {% endfor %}
</div>
{% endblock %}

{% block script %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        function toggleGoalscorers(matchId) {
            var panel = document.getElementById('goalscorers-' + matchId);
            if (panel.style.display === 'none' || panel.style.display === '') {
                panel.style.display = 'block';
            } else {
                panel.style.display = 'none';
            }
        }
        // Attach function to global scope for click events.
        window.toggleGoalscorers = toggleGoalscorers;
    });
</script>
{% endblock %}
